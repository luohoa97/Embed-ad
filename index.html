<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Bloxular - Create games with ease">
    <meta property="og:description" content="Read info...">
    <meta property="og:image" content="https://img.youtube.com/vi/6gSY5DeGUN8/maxresdefault.jpg">
    <meta property="og:url" content="https://www.youtube.com/watch?v=6gSY5DeGUN8">
    <title>Bloxular Embed</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: url('https://www.transparenttextures.com/patterns/cubes.png'), 
                        linear-gradient(to bottom right, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.2));
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .container {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2em;
            text-align: center;
            max-width: 600px;
            width: 100%;
            position: relative;
        }
        .signin-iframe {
            position: absolute;
            top: 1em;
            right: 1em;
        }
        .user-info {
            position: absolute;
            top: 1em;
            right: 1em;
            color: #333;
        }
        h1 {
            margin-bottom: 0.5em;
        }
        p, ul {
            text-align: left;
        }
        a {
            color: #0073e6;
            text-decoration: none;
            margin-top: 1em;
            display: inline-block;
        }
        iframe {
            width: 100%;
            height: 315px;
            border: none;
            border-radius: 10px;
            margin-top: 1em;
        }
    </style>
    <div id="user-info"></div>

    <script>
        window.onload = function() {
            google.accounts.id.initialize({
                client_id: '55152899043-t5k7cr0j61q4etebghnj2ci3k27sd82h.apps.googleusercontent.com',
                callback: handleCredentialResponse,
                auto_select: true,
                cancel_on_tap_outside: false
            });
            google.accounts.id.prompt();
        };

        function handleCredentialResponse(response) {
            const decodedCredential = parseJwt(response.credential);
            const userInfo = document.getElementById('user-info');
            userInfo.innerText = `${decodedCredential.name}`;
        }

        function parseJwt(token) {
            const base64Url = token.split('.')[1];
            const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));

            return JSON.parse(jsonPayload);
        }
    </script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script>
        function handleCredentialResponse(response) {
            const data = jwt_decode(response.credential);
            const userInfo = document.querySelector('.user-info');
            userInfo.innerHTML = `Signed in as ${data.name}`;
            userInfo.style.display = 'block';
            document.querySelector('.signin-iframe').style.display = 'none';
            
            // Store the token in a cookie
            document.cookie = `token=${response.credential}; path=/`;
        }

        function checkForToken() {
            const token = document.cookie.split('; ').find(row => row.startsWith('token='));
            if (token) {
                const data = jwt_decode(token.split('=')[1]);
                const userInfo = document.querySelector('.user-info');
                userInfo.innerHTML = `Signed in as ${data.name}`;
                userInfo.style.display = 'block';
                document.querySelector('.signin-iframe').style.display = 'none';
            }
        }

        window.onload = function() {
            google.accounts.id.initialize({
                client_id: '55152899043-t5k7cr0j61q4etebghnj2ci3k27sd82h.apps.googleusercontent.com',
                callback: handleCredentialResponse
            });
            checkForToken();
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/jwt-decode@3.1.2/build/jwt-decode.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="signin-iframe">
            <iframe src="https://accounts.google.com/gsi/iframe/select?client_id=55152899043-t5k7cr0j61q4etebghnj2ci3k27sd82h.apps.googleusercontent.com&amp;auto_select=true&amp;ux_mode=popup&amp;ui_mode=card&amp;as=AeXfZDmSjHj9xTIVtjL6Uw&amp;channel_id=5492c7abf43a22c579d191f27d21e5edca82ec85790ca865fe57c91717b27e65&amp;origin=https://luohoa97.github.io" title="Sign in to Bloxular with Google" style="height: 204px; width: 391px; overflow: hidden;"></iframe>
        </div>
        <div class="user-info" style="display: none;"></div>
        <h1>Bloxular - Create games with ease</h1>
        <p>License agreement included with purchase</p>
        <p>Includes:</p>
        <ul>
            <li>Indev Admin GUI (not working, just the GUI for now)</li>
        </ul>
        <p>Rn, Oauth 2.0 is not available, account linking: Discord, Roblox is unavailable</p>
        <p>Includes Bloxular GDK too (require(game.ReplicatedFirst.Bloxular))</p>
        <p>Payment</p>
        <ul>
            <li>Robux: 15</li>
            <li>Money: Not applicable</li>
            <li>Other: Not applicable</li>
        </ul>
        <h3>Trailer</h3>
        <iframe src="https://www.youtube.com/embed/6gSY5DeGUN8" allowfullscreen></iframe>
        <h3>Contact</h3>
        
        <a href="https://discord.com/channels/@me/1039999879893749821/">Discord (@luohoa97)</a>
        <a href="https://www.guilded.gg/u/evr_l" target="_blank">Guilded</a><br>
        <a href="https://www.twitter.com/evr_l_">Twitter</a><br>
        
        <a href="https://sites.google.com/view/bloxular">Visit our site</a>

        <div class="footer-links">
            <a href="privacy.html">Privacy Policy</a> | <a href="terms.html">Terms of Service</a>
        </div>
    </div>
</body>
</html>
